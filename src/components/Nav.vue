<template>
    <nav class="nav">
        <div class="nav-bar font-size-small" v-if="!haveActiveSub && store.state.user">
            <div class="nav-bar__left">
                <component :is="gaugeComponent"></component>
                <span class="ml-6px">Remaining traffic:</span>
            </div>
            <div class="nav-bar__right color-blue">
                {{ convertTraffic({ value: userRemainingTraffic, to: 'gb' }) }} GB
                <div class="scale ml-10px">
                    <div class="scale__bar" :style="scaleBarStyles"></div>
                </div>
            </div>
        </div>
        <div class="nav-menu">
            <router-link to="main" class="nav-link active">
                <div class="nav-link-icon">
                    <svg class="not-active-svg" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M28.3615 7.20827L16.6385 0.437656C16.1405 0.149524 15.5753 -0.0021925 15 -0.0021925C14.4247 -0.0021925 13.8595 0.149524 13.3615 0.437656L1.63848 7.20827C1.14104 7.49546 0.727834 7.90836 0.440264 8.40558C0.152694 8.90279 0.000867287 9.46686 0 10.0412L0 26.722C0 27.5897 0.344693 28.4219 0.95825 29.0354C1.57181 29.649 2.40397 29.9937 3.27167 29.9937H26.723C27.5912 29.9937 28.4239 29.6492 29.0383 29.0358C29.6527 28.4223 29.9986 27.5902 30 26.722V10.0412C29.9991 9.46686 29.8473 8.90279 29.5597 8.40558C29.2722 7.90836 28.859 7.49546 28.3615 7.20827V7.20827ZM18.5677 28.1438H11.4271V20.8499C11.4626 19.9268 11.8543 19.0533 12.52 18.4127C13.1856 17.7722 14.0735 17.4144 14.9974 17.4144C15.9212 17.4144 16.8091 17.7722 17.4748 18.4127C18.1404 19.0533 18.5321 19.9268 18.5677 20.8499V28.1438ZM28.1501 26.722C28.1501 26.9092 28.1132 27.0945 28.0414 27.2673C27.9696 27.4402 27.8644 27.5971 27.7318 27.7292C27.5992 27.8613 27.4419 27.9659 27.2688 28.0371C27.0957 28.1082 26.9102 28.1445 26.723 28.1438H20.4175V20.8499C20.3736 19.4417 19.7832 18.1059 18.7716 17.1253C17.7599 16.1447 16.4063 15.5964 14.9974 15.5964C13.5884 15.5964 12.2348 16.1447 11.2232 17.1253C10.2115 18.1059 9.62115 19.4417 9.57717 20.8499V28.1438H3.27167C2.89459 28.1438 2.53296 27.994 2.26632 27.7274C1.99969 27.4607 1.84989 27.0991 1.84989 26.722V10.0412C1.85066 9.79149 1.91696 9.5463 2.04217 9.3302C2.16739 9.11409 2.34712 8.93463 2.56343 8.80975L14.2706 2.03914C14.4876 1.9142 14.7337 1.84858 14.9841 1.84886C15.2345 1.84932 15.4804 1.91489 15.6977 2.03914L27.4366 8.80975C27.6529 8.93463 27.8326 9.11409 27.9578 9.3302C28.083 9.5463 28.1493 9.79149 28.1501 10.0412V26.722Z"
                            fill="#757575"
                        />
                    </svg>
                    <svg class="active-svg" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M28.3615 7.2093L16.6385 0.438689C16.1405 0.150558 15.5753 -0.00115883 15 -0.00115883C14.4247 -0.00115883 13.8595 0.150558 13.3615 0.438689L1.63848 7.2093C1.1414 7.4969 0.728485 7.90989 0.440968 8.40702C0.153452 8.90414 0.00139997 9.468 0 10.0423L0 26.723C0 27.5907 0.344693 28.4229 0.95825 29.0365C1.57181 29.65 2.40397 29.9947 3.27167 29.9947H9.57717V20.8562C9.55449 20.1302 9.67791 19.407 9.9401 18.7296C10.2023 18.0522 10.5979 17.4343 11.1034 16.9128C11.609 16.3912 12.2142 15.9765 12.8831 15.6933C13.552 15.4101 14.271 15.2641 14.9974 15.2641C15.7237 15.2641 16.4427 15.4101 17.1116 15.6933C17.7805 15.9765 18.3857 16.3912 18.8913 16.9128C19.3968 17.4343 19.7924 18.0522 20.0546 18.7296C20.3168 19.407 20.4402 20.1302 20.4175 20.8562V29.9947H26.723C27.5912 29.9947 28.4239 29.6502 29.0383 29.0368C29.6527 28.4234 29.9986 27.5912 30 26.723V10.0423C29.9991 9.4679 29.8473 8.90383 29.5597 8.40661C29.2722 7.90939 28.859 7.4965 28.3615 7.2093V7.2093Z"
                            fill="#258FEF"
                        />
                    </svg>
                </div>
                <span class="nav-link-title">Home</span>
            </router-link>
            <router-link to="premium" class="nav-link" v-if="!haveActiveSub">
                <div class="nav-link-icon">
                    <svg class="not-active-svg" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M29.3204 7.01575L23.6941 0.834705C23.4539 0.572094 23.1618 0.362283 22.8362 0.21859C22.5106 0.0748962 22.1587 0.00045805 21.8028 0L8.17811 0C7.82233 0.00109896 7.47063 0.0758262 7.14514 0.219479C6.81964 0.363132 6.52741 0.572601 6.28682 0.834705L0.665768 7.01575C0.273238 7.43959 0.0368424 7.98453 -0.00445256 8.56074C-0.0457475 9.13695 0.110524 9.71003 0.438601 10.1855L12.8852 28.8713C13.1182 29.2178 13.4327 29.5017 13.8013 29.698C14.1698 29.8942 14.5809 29.9969 14.9984 29.9969C15.4159 29.9969 15.827 29.8942 16.1955 29.698C16.564 29.5017 16.8786 29.2178 17.1116 28.8713L29.537 10.1802C29.8652 9.70638 30.0225 9.13506 29.9831 8.56004C29.9438 7.98502 29.7101 7.44046 29.3204 7.01575V7.01575ZM27.4133 7.66555H21.4964L22.9492 2.7577L27.4133 7.66555ZM10.4181 7.66555L8.69584 1.85431H21.2904L19.5681 7.66555H10.4181ZM19.0557 9.5093L14.9931 24.9355L10.9252 9.5093H19.0557ZM7.037 2.76298L8.4898 7.66555H2.56763L7.037 2.76298ZM2.22424 9.5093H9.01282L13.4716 26.4147L2.22424 9.5093ZM16.5146 26.4147L20.9681 9.5093H27.7567L16.5146 26.4147Z"
                            fill="#757575"
                        />
                    </svg>
                    <svg class="active-svg" width="30" height="31" viewBox="0 0 30 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M23.6407 0.714279L21.5618 7.73454H29.8881C29.7777 7.49564 29.6322 7.27463 29.4563 7.07888L23.7846 0.842211C23.7367 0.794237 23.6887 0.762254 23.6407 0.714279Z"
                            fill="#258FEF"
                        />
                        <path d="M10.8955 9.60555L15 25.1599L19.1045 9.60555H10.8955Z" fill="#258FEF" />
                        <path d="M10.3838 7.73454H19.6162L21.903 0H8.09167L10.3838 7.73454Z" fill="#258FEF" />
                        <path
                            d="M21.0341 9.59488L15.9009 29.0512L15.613 30.1759C16.2337 30.0204 16.7748 29.6406 17.1322 29.1098L29.6748 10.2719C29.8143 10.0625 29.9237 9.8346 30 9.59488H21.0341Z"
                            fill="#258FEF"
                        />
                        <path
                            d="M14.0991 29.0565L8.96588 9.59488H0C0.0730878 9.82895 0.178973 10.0515 0.314499 10.2559L12.8731 29.1258C13.2277 29.657 13.7674 30.037 14.387 30.1919L14.0991 29.0565Z"
                            fill="#258FEF"
                        />
                        <path
                            d="M8.43818 7.73454L6.35928 0.714279C6.31131 0.762254 6.258 0.794237 6.21536 0.842211L0.533058 7.07888C0.355433 7.27328 0.209706 7.49457 0.101288 7.73454H8.43818Z"
                            fill="#258FEF"
                        />
                    </svg>
                </div>
                <span class="nav-link-title">Premium</span>
            </router-link>
            <router-link to="features" class="nav-link">
                <div class="nav-link-icon">
                    <svg class="not-active-svg" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M15.0211 29.8049C14.6303 29.807 14.2453 29.7107 13.9014 29.5249V29.5249C9.70512 27.2376 6.20079 23.8644 3.75518 19.7583C1.30957 15.6523 0.0125971 10.9643 0 6.18516C0.00163109 5.7991 0.0989805 5.41947 0.283331 5.08026C0.467682 4.74106 0.733278 4.45287 1.05634 4.2415C5.18905 1.49773 10.0394 0.0342178 15 0.0342178C19.9606 0.0342178 24.8109 1.49773 28.9437 4.2415C29.2685 4.4535 29.5353 4.74329 29.7198 5.08457C29.9043 5.42584 30.0006 5.80778 30 6.19572C29.997 10.9692 28.711 15.6542 26.2765 19.7602C23.842 23.8663 20.3487 27.2425 16.162 29.5355C15.8109 29.7211 15.4182 29.8138 15.0211 29.8049V29.8049ZM14.7887 27.9035C14.8584 27.9414 14.9365 27.9612 15.0158 27.9612C15.0952 27.9612 15.1733 27.9414 15.243 27.9035C19.1407 25.771 22.3934 22.6299 24.6607 18.8091C26.9279 14.9882 28.1263 10.6281 28.1303 6.18516C28.1295 6.10406 28.11 6.02423 28.0733 5.95187C28.0367 5.87952 27.9839 5.81657 27.919 5.76791C24.0851 3.21798 19.5833 1.85761 14.9789 1.85761C10.3744 1.85761 5.87262 3.21798 2.03873 5.76791C1.97203 5.81358 1.91777 5.87518 1.88088 5.94711C1.84399 6.01905 1.82563 6.09905 1.82746 6.17988C1.84227 10.6302 3.05317 14.9947 5.33342 18.8165C7.61367 22.6383 10.8794 25.7768 14.7887 27.9035V27.9035Z"
                            fill="#757575"
                        />
                        <path
                            d="M11.3926 19.7327C11.0582 19.7312 10.7328 19.624 10.463 19.4264C10.2191 19.2489 10.0309 19.0056 9.9205 18.7249C9.8101 18.4443 9.7821 18.1379 9.83979 17.8418L10.4472 14.6992L8.1074 12.5179C7.88584 12.3135 7.72721 12.0501 7.65012 11.7586C7.57303 11.4672 7.58069 11.1598 7.67219 10.8725C7.76368 10.5853 7.93523 10.3301 8.16668 10.1369C8.39814 9.94375 8.67989 9.82063 8.97888 9.78199L12.1479 9.38586L13.5053 6.48622C13.6326 6.21254 13.8355 5.98093 14.09 5.81864C14.3445 5.65635 14.6401 5.57013 14.9419 5.57013C15.2438 5.57013 15.5393 5.65635 15.7938 5.81864C16.0483 5.98093 16.2512 6.21254 16.3785 6.48622L17.7359 9.38586L20.9049 9.78199C21.2045 9.81849 21.4874 9.93978 21.7204 10.1316C21.9534 10.3234 22.1267 10.5778 22.2201 10.8647C22.3141 11.1524 22.3237 11.4609 22.2479 11.7539C22.1721 12.0468 22.014 12.312 21.7923 12.5179L19.4789 14.6992L20.0704 17.8418C20.1324 18.1379 20.1083 18.4456 20.0011 18.7284C19.8938 19.0112 19.7078 19.2575 19.4651 19.438C19.2224 19.6185 18.9331 19.7257 18.6313 19.7471C18.3296 19.7684 18.028 19.703 17.7623 19.5584L14.963 17.9739L12.1479 19.5584C11.914 19.6769 11.6548 19.7367 11.3926 19.7327V19.7327ZM14.963 16.0936C15.2328 16.0951 15.4979 16.1641 15.7342 16.2943L18.169 17.6411L17.6408 14.9105C17.5893 14.6463 17.6059 14.3734 17.6891 14.1174C17.7722 13.8615 17.9192 13.6309 18.1162 13.4475L20.1497 11.5461L17.3873 11.2028C17.1205 11.1711 16.866 11.0721 16.648 10.915C16.4299 10.7579 16.2554 10.548 16.1408 10.3049L14.963 7.78023L13.7852 10.2996C13.6718 10.543 13.4984 10.7535 13.2813 10.9115C13.0642 11.0695 12.8105 11.1697 12.544 11.2028L9.77641 11.5461L11.8151 13.4475C12.0121 13.6309 12.1591 13.8615 12.2423 14.1174C12.3254 14.3734 12.342 14.6463 12.2905 14.9105L11.7623 17.6411L14.2025 16.2943C14.4351 16.1645 14.6967 16.0955 14.963 16.0936V16.0936Z"
                            fill="#757575"
                        />
                    </svg>
                    <svg class="active-svg" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M16.1522 10.2907L14.9736 7.76955L13.7949 10.2907C13.681 10.5349 13.5066 10.7461 13.2884 10.9042C13.0701 11.0624 12.8152 11.1623 12.5476 11.1945L9.78329 11.5381L11.8235 13.4408C12.0206 13.6243 12.1677 13.8551 12.2509 14.1112C12.3341 14.3674 12.3507 14.6405 12.2992 14.9049L11.7706 17.6374L14.2125 16.2896C14.4468 16.1589 14.7105 16.0898 14.9789 16.0888C15.2488 16.0903 15.5141 16.1593 15.7505 16.2896L18.1871 17.6374L17.6586 14.9049C17.6063 14.641 17.6221 14.3681 17.7044 14.112C17.7867 13.8559 17.9328 13.6249 18.129 13.4408L20.1691 11.5381L17.4049 11.1945C17.1363 11.1631 16.8803 11.0636 16.661 10.9054C16.4418 10.7473 16.2666 10.5356 16.1522 10.2907V10.2907Z"
                            fill="#258FEF"
                        />
                        <path
                            d="M28.9641 4.22833C24.8284 1.48263 19.9747 0.0180817 15.0106 0.0180817C10.0465 0.0180817 5.19271 1.48263 1.05709 4.22833C0.731969 4.44048 0.46499 4.73048 0.280388 5.07199C0.0957862 5.4135 -0.000592306 5.79572 2.73872e-06 6.18393C0.015061 10.9646 1.31408 15.6534 3.76125 19.7602C6.20843 23.867 9.7139 27.2411 13.9112 29.5296V29.5296C14.2541 29.7136 14.6373 29.8098 15.0264 29.8097C15.4172 29.8092 15.8019 29.713 16.1469 29.5296C20.3366 27.235 23.8324 23.8564 26.2686 19.7474C28.7048 15.6385 29.9917 10.9502 29.9947 6.17336C29.9964 5.78934 29.9033 5.41084 29.7235 5.07151C29.5437 4.73219 29.2828 4.44254 28.9641 4.22833V4.22833ZM21.834 12.5106L19.4979 14.6934L20.0846 17.8383C20.1423 18.1345 20.1143 18.4411 20.0038 18.722C19.8933 19.0028 19.705 19.2464 19.4609 19.4239C19.2162 19.6029 18.9253 19.7079 18.6228 19.7267C18.3202 19.7454 18.0186 19.677 17.7537 19.5296L14.9736 17.9704L12.1565 19.556C11.8923 19.7027 11.5917 19.7708 11.2902 19.7523C10.9886 19.7339 10.6986 19.6297 10.4543 19.452C10.2099 19.2743 10.0214 19.0305 9.911 18.7493C9.80056 18.4681 9.77276 18.1612 9.83087 17.8647L10.4387 14.7199L8.09725 12.537C7.86677 12.3329 7.70069 12.0661 7.61928 11.7692C7.53788 11.4723 7.54467 11.1581 7.63882 10.865C7.73298 10.5719 7.91043 10.3125 8.14951 10.1185C8.3886 9.92459 8.67897 9.80443 8.9852 9.77273L12.1565 9.37632L13.5148 6.47463C13.6422 6.20076 13.8452 5.96899 14.0999 5.80658C14.3546 5.64417 14.6504 5.5579 14.9524 5.5579C15.2545 5.5579 15.5503 5.64417 15.805 5.80658C16.0596 5.96899 16.2626 6.20076 16.3901 6.47463V6.47463L17.7484 9.37632L20.9197 9.77273C21.2202 9.80885 21.504 9.93022 21.7378 10.1225C21.9715 10.3148 22.1453 10.5699 22.2387 10.8578C22.3321 11.1457 22.3411 11.4543 22.2647 11.7472C22.1883 12.0401 22.0297 12.305 21.8076 12.5106H21.834Z"
                            fill="#258FEF"
                        />
                    </svg>
                </div>
                <span class="nav-link-title">Features</span>
            </router-link>
            <router-link to="settings" class="nav-link">
                <div class="nav-link-icon">
                    <svg class="not-active-svg" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M16.7495 30H13.2505C13.0309 29.9993 12.8187 29.9209 12.6513 29.7787C12.484 29.6365 12.3723 29.4396 12.3362 29.223L12.1565 28.1343C12.0761 27.6597 11.8763 27.2133 11.576 26.8372C11.2756 26.4611 10.8845 26.1675 10.4395 25.9841C9.99446 25.8007 9.5101 25.7335 9.03194 25.7888C8.55379 25.8441 8.09755 26.0201 7.70613 26.3002L6.82347 26.9556C6.64486 27.0834 6.4266 27.1435 6.20775 27.1251C5.9889 27.1067 5.78373 27.011 5.62897 26.8552L3.17125 24.3658C3.01717 24.2098 2.92313 24.0044 2.90573 23.7859C2.88832 23.5673 2.94866 23.3496 3.07611 23.1713L3.69979 22.2886C3.97859 21.8967 4.15385 21.4408 4.20929 20.963C4.26473 20.4853 4.19856 20.0013 4.01691 19.556C3.83832 19.1076 3.54605 18.7134 3.16887 18.4122C2.79168 18.111 2.34258 17.9132 1.86575 17.8383L0.776957 17.6586C0.560338 17.6245 0.363005 17.5142 0.220543 17.3475C0.0780811 17.1809 -0.000134601 16.9687 9.78968e-07 16.7495V13.2505C-0.000318794 13.0306 0.0777098 12.8178 0.220093 12.6503C0.362476 12.4827 0.5599 12.3713 0.776957 12.3362L1.40064 12.2357C1.96597 12.1531 2.5033 11.9362 2.96767 11.6034C3.43203 11.2705 3.80994 10.8313 4.06977 10.3224C4.25934 9.96089 4.3458 9.55418 4.3197 9.1468C4.2936 8.73942 4.15594 8.34707 3.92178 8.01269L3.06025 6.82347C2.93482 6.64328 2.87716 6.42454 2.89748 6.20594C2.91779 5.98733 3.01476 5.78296 3.17125 5.62897L5.62897 3.17125C5.78493 3.01717 5.99031 2.92314 6.20886 2.90573C6.42741 2.88832 6.64508 2.94867 6.82347 3.07611L7.71142 3.69979C8.10248 3.97813 8.55754 4.15315 9.03433 4.20859C9.51112 4.26403 9.99419 4.1981 10.4387 4.01692C10.8875 3.83742 11.2819 3.54422 11.5831 3.16612C11.8843 2.78803 12.0819 2.33807 12.1565 1.86047L12.3309 0.803387C12.3604 0.580609 12.47 0.376204 12.6393 0.228358C12.8085 0.0805118 13.0258 -0.000661022 13.2505 4.05471e-06H16.7495C16.9687 -0.000131526 17.1809 0.0780841 17.3475 0.220546C17.5142 0.363009 17.6245 0.560341 17.6586 0.77696L17.8383 1.86047C17.9129 2.33807 18.1105 2.78803 18.4116 3.16612C18.7128 3.54422 19.1072 3.83742 19.556 4.01692C20.0013 4.19856 20.4853 4.26473 20.963 4.20929C21.4408 4.15385 21.8967 3.97859 22.2886 3.69979L23.1712 3.06026C23.3523 2.93443 23.5719 2.87657 23.7914 2.89688C24.0109 2.91719 24.2162 3.01436 24.371 3.17125L26.8393 5.64482C26.9935 5.79665 27.0896 5.99774 27.1109 6.2131C27.1321 6.42845 27.0772 6.64444 26.9556 6.82347L26.0941 8.01269C25.8606 8.34519 25.7228 8.73541 25.6958 9.14082C25.6687 9.54623 25.7535 9.95128 25.9408 10.3118C26.1997 10.8224 26.5771 11.2635 27.0415 11.5982C27.5059 11.933 28.0437 12.1516 28.6099 12.2357L29.2389 12.3362C29.4555 12.3723 29.6523 12.484 29.7945 12.6513C29.9367 12.8187 30.0151 13.0309 30.0159 13.2505V16.7495C30.0149 16.9685 29.9363 17.18 29.7941 17.3465C29.6518 17.5129 29.4551 17.6235 29.2389 17.6586L28.1501 17.8383C27.6704 17.9106 27.218 18.1073 26.8379 18.4086C26.4577 18.71 26.163 19.1055 25.9831 19.556C25.8 20.001 25.733 20.4853 25.7885 20.9633C25.8439 21.4413 26.02 21.8973 26.3002 22.2886L26.9556 23.1713C27.0834 23.3499 27.1435 23.5681 27.1251 23.787C27.1067 24.0058 27.011 24.211 26.8552 24.3658L24.3869 26.8393C24.2313 26.9956 24.0252 27.0914 23.8054 27.1098C23.5857 27.1282 23.3665 27.0679 23.1871 26.9398L22.3044 26.3002C21.913 26.0201 21.4568 25.8441 20.9786 25.7888C20.5005 25.7335 20.0161 25.8007 19.5711 25.9841C19.126 26.1675 18.735 26.4611 18.4346 26.8372C18.1343 27.2133 17.9345 27.6597 17.8541 28.1343L17.6744 29.223C17.639 29.4419 17.5261 29.6408 17.3563 29.7834C17.1865 29.926 16.9712 30.0029 16.7495 30V30ZM14.0381 28.1501H15.9619L16.0095 27.8383C16.1393 27.0606 16.4651 26.3289 16.9562 25.7121C17.4472 25.0953 18.0873 24.6137 18.8161 24.3129C19.3932 24.0694 20.0131 23.9436 20.6395 23.9429C21.6191 23.9412 22.574 24.2503 23.3668 24.8256L23.6152 25L24.9789 23.6417L24.7992 23.3932C24.3348 22.746 24.043 21.9911 23.9514 21.1997C23.8597 20.4084 23.9713 19.6068 24.2754 18.8705C24.5795 18.1343 25.0662 17.4877 25.6896 16.9917C26.313 16.4957 27.0525 16.1668 27.8383 16.0359L28.1501 15.9884V14.0328C27.323 13.8843 26.5418 13.5453 25.8684 13.0425C25.1951 12.5398 24.648 11.8872 24.2706 11.1364C23.9247 10.4724 23.7702 9.72541 23.8244 8.97874C23.8785 8.23207 24.1391 7.51514 24.5772 6.90804L24.9789 6.3795L23.6152 5.02115L23.3668 5.20085C22.7191 5.66261 21.9652 5.95318 21.1752 6.04558C20.3851 6.13799 19.5845 6.02922 18.8478 5.72939C18.1098 5.42751 17.4614 4.94159 16.9646 4.31797C16.4677 3.69434 16.1389 2.95382 16.0095 2.16702L15.9619 1.8499H14.0381L13.9852 2.15645C13.8581 2.94399 13.5309 3.68567 13.0348 4.31039C12.5387 4.93511 11.8905 5.4219 11.1522 5.72411C10.4147 6.0244 9.61315 6.1334 8.82217 6.041C8.03119 5.9486 7.2764 5.65778 6.62791 5.19556L6.37949 5.01586L5.02114 6.3795L5.42283 6.90804C5.85947 7.5159 6.11882 8.23302 6.17201 8.97956C6.2252 9.72609 6.07014 10.4727 5.7241 11.1364C5.34755 11.8868 4.80141 12.5392 4.12896 13.042C3.4565 13.5447 2.67621 13.8839 1.8499 14.0328V15.9619L2.16173 16.0095C2.94925 16.137 3.69067 16.465 4.31461 16.9621C4.93854 17.4592 5.42396 18.1086 5.7241 18.8478C6.02686 19.5849 6.13719 20.3868 6.04473 21.1783C5.95227 21.9697 5.66006 22.7247 5.19556 23.3721L5.01586 23.6152L6.37421 24.9789L6.62262 24.7992C7.26989 24.3348 8.0248 24.043 8.81612 23.9514C9.60744 23.8597 10.4091 23.9713 11.1453 24.2754C11.8816 24.5795 12.5282 25.0662 13.0242 25.6896C13.5201 26.313 13.8491 27.0525 13.9799 27.8383L14.0381 28.1501Z"
                            fill="#757575"
                        />
                        <path
                            d="M15 21.2368C13.7665 21.2368 12.5607 20.871 11.535 20.1857C10.5094 19.5004 9.71001 18.5263 9.23796 17.3867C8.76592 16.2471 8.64241 14.9931 8.88306 13.7833C9.1237 12.5734 9.7177 11.4622 10.5899 10.5899C11.4622 9.7177 12.5734 9.1237 13.7833 8.88306C14.9931 8.64241 16.2471 8.76592 17.3867 9.23796C18.5263 9.71001 19.5004 10.5094 20.1857 11.535C20.871 12.5607 21.2368 13.7665 21.2368 15C21.2354 16.6537 20.5779 18.2392 19.4085 19.4085C18.2392 20.5779 16.6537 21.2354 15 21.2368V21.2368ZM15 10.6131C14.1324 10.6131 13.2842 10.8704 12.5628 11.3524C11.8414 11.8345 11.2791 12.5196 10.947 13.3212C10.615 14.1228 10.5281 15.0049 10.6974 15.8558C10.8667 16.7068 11.2845 17.4885 11.898 18.102C12.5115 18.7155 13.2932 19.1333 14.1442 19.3026C14.9951 19.4719 15.8772 19.385 16.6788 19.053C17.4804 18.7209 18.1655 18.1587 18.6476 17.4372C19.1296 16.7158 19.3869 15.8676 19.3869 15C19.3855 13.837 18.9229 12.7219 18.1005 11.8995C17.2781 11.0771 16.1631 10.6145 15 10.6131V10.6131Z"
                            fill="#757575"
                        />
                    </svg>
                    <svg class="active-svg" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M29.223 12.3362L28.5941 12.2357C28.0279 12.1516 27.49 11.933 27.0257 11.5982C26.5613 11.2635 26.1838 10.8224 25.9249 10.3118C25.7375 9.95225 25.6527 9.548 25.6797 9.1434C25.7068 8.73879 25.8446 8.34943 26.0782 8.01797L26.9556 6.82347C27.0834 6.64486 27.1435 6.4266 27.1251 6.20775C27.1067 5.9889 27.011 5.78373 26.8552 5.62897L24.371 3.17125C24.2151 3.01717 24.0097 2.92313 23.7911 2.90573C23.5726 2.88832 23.3549 2.94866 23.1765 3.07611L22.2886 3.69979C21.8969 3.9791 21.4406 4.15425 20.9626 4.2088C20.4846 4.26335 20.0006 4.1955 19.556 4.01163C19.1067 3.83439 18.7117 3.54252 18.4103 3.16509C18.1089 2.78766 17.9117 2.33785 17.8383 1.86047L17.6586 0.803384C17.6303 0.581953 17.5225 0.378345 17.3553 0.230528C17.188 0.0827108 16.9727 0.00077549 16.7495 9.78968e-07H13.2505C13.0306 -0.000318794 12.8178 0.0777098 12.6503 0.220093C12.4827 0.362476 12.3713 0.5599 12.3362 0.776957L12.1564 1.86047C12.0819 2.33806 11.8843 2.78803 11.5831 3.16612C11.2819 3.54421 10.8875 3.83742 10.4387 4.01691C9.99419 4.1981 9.51112 4.26403 9.03433 4.20859C8.55754 4.15315 8.10248 3.97813 7.71142 3.69979L6.82347 3.06025C6.64328 2.93482 6.42454 2.87716 6.20593 2.89748C5.98733 2.91779 5.78295 3.01476 5.62896 3.17125L3.17125 5.62897C3.01717 5.78493 2.92313 5.99031 2.90573 6.20886C2.88832 6.42741 2.94866 6.64508 3.07611 6.82347L3.93763 8.01797C4.17189 8.35131 4.30965 8.7428 4.33576 9.14938C4.36187 9.55595 4.27532 9.96185 4.08562 10.3224C3.82833 10.828 3.45452 11.2651 2.99503 11.5978C2.53554 11.9305 2.00354 12.1491 1.44292 12.2357L0.813954 12.3362C0.590161 12.3632 0.383949 12.471 0.234066 12.6394C0.0841831 12.8078 0.000947743 13.0251 1.75967e-07 13.2505V16.7495C-0.000135404 16.9687 0.0780803 17.1809 0.220542 17.3475C0.363005 17.5142 0.560338 17.6245 0.776956 17.6586L1.86575 17.8383C2.34258 17.9132 2.79168 18.111 3.16887 18.4122C3.54605 18.7134 3.83832 19.1076 4.01691 19.556C4.19856 20.0013 4.26473 20.4853 4.20929 20.963C4.15385 21.4408 3.97859 21.8967 3.69979 22.2886L3.06025 23.1765C2.93482 23.3567 2.87716 23.5755 2.89747 23.7941C2.91779 24.0127 3.01476 24.217 3.17125 24.371L5.64482 26.8393C5.79959 26.9952 6.00475 27.0908 6.2236 27.1092C6.44246 27.1276 6.66071 27.0675 6.83932 26.9397L7.72727 26.3002C8.11842 26.025 8.57275 25.8532 9.04809 25.8006C9.52342 25.748 10.0043 25.8163 10.4462 25.9993C10.8881 26.1822 11.2765 26.4739 11.5755 26.8471C11.8745 27.2204 12.0743 27.6631 12.1564 28.1343L12.3309 29.223C12.3671 29.4396 12.4787 29.6365 12.646 29.7787C12.8134 29.9209 13.0256 29.9993 13.2452 30H16.7442C16.9632 29.9991 17.1747 29.9205 17.3412 29.7782C17.5077 29.6359 17.6182 29.4392 17.6533 29.223L17.833 28.1343C17.9134 27.6597 18.1131 27.2133 18.4135 26.8372C18.7138 26.4611 19.1049 26.1675 19.5499 25.9841C19.995 25.8007 20.4793 25.7335 20.9575 25.7888C21.4356 25.8441 21.8919 26.0201 22.2833 26.3002L23.1765 26.9556C23.3551 27.0834 23.5734 27.1435 23.7923 27.1251C24.0111 27.1067 24.2163 27.011 24.371 26.8552L26.8393 24.3869C27.0017 24.2333 27.1029 24.026 27.1243 23.8035C27.1457 23.581 27.0857 23.3583 26.9556 23.1765L26.3161 22.2886C26.0359 21.8973 25.8598 21.4413 25.8043 20.9633C25.7489 20.4853 25.8158 20.001 25.9989 19.556C26.1766 19.107 26.4686 18.7123 26.846 18.411C27.2233 18.1096 27.6729 17.9122 28.1501 17.8383L29.2389 17.6586C29.4551 17.6235 29.6518 17.5129 29.7941 17.3465C29.9363 17.18 30.0149 16.9685 30.0159 16.7495V13.2505C30.0145 13.0286 29.9339 12.8145 29.7885 12.6468C29.6431 12.4791 29.4425 12.3689 29.223 12.3362V12.3362ZM15 19.3869C14.1324 19.3869 13.2842 19.1296 12.5628 18.6476C11.8414 18.1655 11.2791 17.4804 10.947 16.6788C10.615 15.8772 10.5281 14.9951 10.6974 14.1442C10.8667 13.2932 11.2845 12.5115 11.898 11.898C12.5115 11.2845 13.2932 10.8667 14.1442 10.6974C14.9951 10.5281 15.8772 10.615 16.6788 10.947C17.4804 11.2791 18.1655 11.8414 18.6476 12.5628C19.1296 13.2842 19.3869 14.1324 19.3869 15C19.3855 16.163 18.9229 17.2781 18.1005 18.1005C17.2781 18.9229 16.163 19.3855 15 19.3869Z"
                            fill="#258FEF"
                        />
                    </svg>
                </div>
                <span class="nav-link-title">Settings</span>
            </router-link>
        </div>
    </nav>
</template>
<script setup>
import { computed, inject } from 'vue';
import IconGauge1 from '@/components/icons/IconGauge1.vue';
import IconGauge2 from '@/components/icons/IconGauge2.vue';
import IconGauge3 from '@/components/icons/IconGauge3.vue';
import IconGauge4 from '@/components/icons/IconGauge4.vue';
import IconGauge5 from '@/components/icons/IconGauge5.vue';
import { convertTraffic } from '@/helpers/mixins.js';

const store = inject('store');
const userRemainingTraffic = computed(() => {
    try {
        return store.state.user && store.state.user.traffic_limit - store.state.user.monthly_free_used_traffic;
    } catch (error) {
        return 0;
    }
});
const scaleBarStyles = computed(() => {
    const percent = (userRemainingTraffic.value * 100) / store.state.user.traffic_limit;
    let background = '#257eff';

    if (percent <= 34) {
        background = '#b93a19';
    } else if (percent >= 35 && percent <= 74) {
        background = '#f3a014';
    } else if (percent >= 75) {
        background = '#257eff';
    }

    return {
        width: `${percent}%`,
        background,
    };
});

const haveActiveSub = computed(() => {
    return store.state.user && store.state.user.subscription_id && store.state.subscription && ['active', 'paused', 'canceled'].includes(store.state.subscription.status);
});

const gaugeComponent = computed(() => {
    const percent = (userRemainingTraffic.value * 100) / store.state.user.traffic_limit;

    if (isNaN(percent)) {
        return IconGauge5;
    } else if (percent >= 80) {
        return IconGauge5;
    } else if (percent >= 60) {
        return IconGauge4;
    } else if (percent >= 40) {
        return IconGauge3;
    } else if (percent >= 20) {
        return IconGauge2;
    } else {
        return IconGauge1;
    }
});
</script>

<style lang="scss" scoped>
.nav {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: $colorWhite;
    z-index: 2;

    &-bar {
        border-radius: 12px 12px 0 0;
        background: $colorLightGrey;
        padding: 9px 30px;
        display: flex;
        justify-content: space-between;
        font-family: $fontM;

        &__left {
            display: flex;
            align-items: center;
            color: $colorDarkGrey;
        }

        &__right {
            display: flex;
            align-items: center;
            line-height: 1;
        }
    }

    &-menu {
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-top: 2px solid #eff1f6;
        padding: 8px 30px;
    }

    &-link {
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        color: $colorDarkGrey;
        line-height: 1;

        &-icon {
            width: 20px;
            height: 20px;
            position: relative;

            svg {
                width: 100%;
                height: 100%;
                position: absolute;
                left: 0;
                top: 0;
                transition: 0.2s all ease;

                path {
                    transition: $transitionPrimary;
                }
            }
        }

        &-title {
            font-size: 12px;
            text-decoration: none;
            margin-top: 4px;
        }

        .not-active-svg {
            opacity: 1;
        }

        .active-svg {
            opacity: 0;
        }

        &.active {
            color: $colorBlue;

            .not-active-svg {
                opacity: 0;
            }
            .active-svg {
                opacity: 1;
            }
        }

        &:not(.active) {
            &:hover {
                color: $colorBlue;
                .active-svg {
                    opacity: 1;
                }
                .not-active-svg {
                    opacity: 0;
                }
            }
        }
    }
}

.scale {
    overflow: hidden;
    width: 80px;
    height: 8px;
    background: #dfe1e6;
    border-radius: 8px;

    &__bar {
        border-radius: inherit;
        background: $colorBlue;
        height: 100%;
    }
}
</style>
